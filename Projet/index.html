<!DOCTYPE html>
<html lang="fr" data-bs-theme="dark" class="h-100">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projet CAI/TOO</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <link rel="stylesheet" href="https://unpkg.com/dmn-js@14.6.0/dist/assets/dmn-js-drd.css">
  <link rel="stylesheet" href="https://unpkg.com/dmn-js@14.6.0/dist/assets/dmn-js-decision-table.css">
  <link rel="stylesheet" href="https://unpkg.com/dmn-js@14.6.0/dist/assets/dmn-js-literal-expression.css">
  <link rel="stylesheet" href="https://unpkg.com/dmn-js@14.6.0/dist/assets/dmn-js-shared.css">
  <link rel="stylesheet" href="https://unpkg.com/dmn-js@14.6.0/dist/assets/dmn-font/css/dmn.css">
</head>
<body class="h-100">
  <nav class="navbar bg-body-tertiary">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1">
        VELUZ Jesse & ARRUZAS Simon
      </span>
    </div>
  </nav>
  <hr class="opacity-0">

  <div class="container-xl">
    <h1>.dmn viewer and results from .json inputs</h1>
    <p>
      Drag and drop files anywhere on this page or use :
      <label for="file-upload" class="btn btn-outline-secondary btn-sm">
        <i class="bi bi-file-earmark-arrow-up"></i>
      </label>
      <input id="file-upload" type="file" multiple hidden/>
    </p>

    <div class="card mb-4" style="height: 450px;">
      <div class="card-header">
        DMN viewer
      </div>
      <div 
        id="dmn-card"
        class="card-body bg-light overflow-scroll p-2"
        onmouseenter="document.getElementById('scroll-overlay').hidden = false;"
        onmouseleave="document.getElementById('scroll-overlay').hidden = true;"
      >
        <div id="scroll-overlay" class="rounded bg-dark-subtle opacity-50 position-fixed z-3 m-1 p-1" hidden>
          <i class="bi bi-mouse"></i>:<i class="bi bi-arrows-vertical"></i>
          <br>
          <i class="bi bi-shift"></i>+<i class="bi bi-mouse"></i>: <i class="bi bi-arrows"></i>
        </div>
        <div id="dmn" class="ps-5 pt-5" style="height: 5000px; width: 10000px;"></div>
      </div>
    </div>
  
    <div class="row">
      <div class="col">
        <div id="input-card" class="card rounded-0 rounded-top bg-dark-subtle" style="height: 250px;">
            <div class="card-header">JSON Input</div>
            <div class="card-body overflow-auto">
              <code><div id="input"></div></code>
            </div>
          </div>
        </div>
      <div class="col">
        <div id="output-card" class="card rounded-0 rounded-top bg-dark-subtle" style="height: 250px;">
          <div class="card-header">JSON Output</div>
          <div class="card-body overflow-auto">
            <div id="download-overlay" class="position-fixed z-3" hidden>
              <button class="btn btn-sm btn-success">
                <i class="bi bi-filetype-json"></i>
              </button>
            </div>
            <code><div id="output"></div></code>
          </div>
        </div>
      </div>
    </div>
  </div>

  <style>
    .overflow-scroll::-webkit-scrollbar {display: none}
  </style>
  
  <script src="./node_modules/dmn-js/dist/dmn-viewer.development.js"></script>
  <script src="./node_modules/dmn-moddle/dist/dmn-moddle.umd.js"></script>
  <PackageReference Include="net.adamec.lib.common.dmn.engine" Version="1.1.1"/>
  
  <script src="./js/index.js"></script>
</body>
</html>